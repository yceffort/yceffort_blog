---
title: "비트코인 라이트닝 네트워크"
updated: 2018-08-28 03:22:16
layout: post
tags: [blockchain, bitcoin]
---

The Bitcoin Lightning Network

[원문](https://lightning.network/lightning-network-summary.pdf)

라이트닝 네트워크란 신뢰할 수 있는 제3자에게 자금 관리를 위임하는 위험을 제거하는, 대규모 소액지불을 위한 분산 시스템이다. 

세계에서 가장 널리 사용되고 가치 있는 디지털 통화인 비트코인은 신뢰할 수 있는 중개자가 없이 가치를 보낼 수 있다. 비트코인에는 사용자가 자금에 대한 지침을 프로그래밍 할 수 있는 고급 스크립팅 시스템이 포함되어 있다. 그러나 이러한 비트코인 분산된 디자인에는 몇가지 단점이 있다. 비트코인 블록체인에서 거래가 온전히 확인되기 위해서는 최대 1시간이 걸린다. 소액 지불 또는 몇 센트 미만의 지불도 마찬가지로 오랜시간이 걸렸고, 이러한 거래를 확인하는 수수료로 인해 오늘날 네트워크에서 이러한 거래가 실행되기 어렵게 했다.

라이트닝 네트워크는 이러한 문제를 해결한다. 비트코인의 내장 스크립팅을 이용한 다자간 스마트 컨트랙트 (프로그래밍 가능한 돈)를 구현한 최초 사례중 하나다. 라이트닝 네트워크는 다자간 금융 컴퓨팅 분야에서 기술개발을 선도하고 있다.

## 즉시 지불

비트코인은 거래를 10분 간격으로 블록으로 집계한다. 지불은 6블록 혹은 1시간에 걸친 확인 끝에 비트코인 네트워크 내에서 안전하고 간주된다. 라이트닝 네트워크 내에서 지불은 블록 확인을 필요로 하지 않으며, 즉각적이다. 라이트닝 네트워크는 사용자 대 디바이스 트랜잭션을 통해 소매점에서 사용하거나, 인스턴트 지불이 필요한 곳에서 사용할 수 있다.

## 소액 지불

소액 결제의 가능성으로 새로운 시장을 만들어 낼 수 있다. 라이트닝 네트워크는 관리상의 위험없이 0.0000001 비트코인의 자금을 보낼 수 있게 한다. 비트코인 블록체인은 현재 최소 출력 크기를 수백배 이상 높이고, 소액결제를 비실용적으로 만드는 고정 거래당 수수료를 부과하고 있다. 라이트닝 네트워크는 실제 비트코인 거래를 활용하여 비트코인으로 표시된 최소 지불을 허용한다.

## 확장성

비트코인 네트워크는 자동화된 지불에 따른 수요를 충족시키기 위해 보다 큰 거래량의 주문을 지원해야 한다. 인터넷에 연결된 장치가 증가하면서 기계 간 지불 및 자동화된 소액 지불 서비스를 위한 플랫폼이 필요하다. 라이트닝 네트워크 트랜잭션은 신뢰 및 소유권 위임 없이 블록체인에서 수행되므로, 사용자는 다른 장치간에 거의 무제한 트랜잭션을 수행할 수 있다.

## 어떻게 작동하는가?

자금은 양자의 다중 서명 '채널' 비트코인 주소에 배치된다. 이 채널은 비트코인 공개 원장의 항목으로 표시된다. 채널에서 자금을 지출하기 위해서는 양 당사자가 새로운 잔고에 동의 해야 한다. 현재 잔액은 채널 주소에서 지출한 가장 최근 거래로 저장된다. 결제를 위해, 양 당사자는 채널 주소에서 새로운 출구 거래 지출에 서명한다. 모든 이전 출구 트랜잭션은 무효화 된다.

라이트닝 네트워크는 채널을 종료하기 위해 상대방과 협력할 필요가 없다. 양 당사자는 일방적으로 채널을 닫고 끝낼 수 있는 옵션을 가지고 있다. 모든 당사자는 이 네트워크에 있는 많은 다른 사용자가 있는 여러개의 다중 서명 채널을 가지고 있기 때문에, 이 네트워크를 통해 다른 당사자에게 지불 할 수 있다.

안전한 암호화 해시에 따라 지급 조건을 포함시킴으로써, 어떤 당사자도 자금의 일방적인 소유권을 가질 필요 없이 채널 네트워크를 통해 지급할 수 있다. 라이트닝 네트우크는 독점에 취약한 신뢰할 수 있는 금융 시스템에서 이전에는 불가능한 것을 가능하게 하며, 네트워크에 대한 참여는 동적이며 모두에게 개방적이다.

----

원문 설명이 너무 어려운 것 같다. 조금 더 쉽게 써보자.

라이트닝 네트워크의 가장 큰 아이디어는 **모든 트랜잭션이 블록체인에 기록될 필요는 없다는 것**이다. 사소한 금액의 모든 것들을 블록체인에 기록하지 않는 대신, **지불 채널**이라는 것을 만들어 사소한 거래를 기록할 것이다. 이 지불 채널을 통해 여러번 거래를 할 수 있으며, 몇 시간, 몇일, 혹은 몇 주 동안 이채널을 열어 둘 수 있다. 이 내역이 블록체인에 저장되는 시간은 바로 채널을 닫을 때다. 채널을 닫으면, 발생한 거래의 최종 상태를 블록 체인에 쓴다.

![1](https://i1.wp.com/cointelegraph.com/storage/uploads/view/528e948fda31ac641e1abf178399ccd3.png?w=640&ssl=1)

두 사람은 각각 동등한 금액을 멀티 시그 주소에 예치하며, 이 작업은 '오프닝 거래' 형태로 블록체인에 기록되고, 두사람간에 지불 채널이 열리게 된다. 그리고 이 돈은 아무도 쓸수 없으며, 여기에 있는 돈은 서로 거래하는데만 사용하게 된다.

![2](https://i1.wp.com/cointelegraph.com/storage/uploads/view/902f4ee00dbb13ff2b7e27c0e150ce25.png?w=640&ssl=1)

만약 한사람이 2개 코인을 보내주길 원한다면, 해당 소유권을 상대방에게 넘겨주게 된다. 그리고 이 둘은 계속해서 거래를 하기를 원하므로 이 상태에서 계속 머물러 있는다.

![3](https://i2.wp.com/cointelegraph.com/storage/uploads/view/1cd6956e605d0b9740af1ee0b1a11517.png?w=640&ssl=1)

그리고 다른 상대방이 1개의 코인을 보내주기를 원한다면, 동일한 방법으로 소유권을 이전하면 된다.

![4](https://i0.wp.com/cointelegraph.com/storage/uploads/view/5316aec3310e3495050fc6d1764422f6.png?w=640&ssl=1)

마짐막으로 서로 더이상 거래를 하기를 원하지 않는다면, 마지막 거래의 결과에 따라 소유권을 나눠 갖게 된다. 그리고 이는 블록체인에 기록된다.

![5](https://i0.wp.com/cointelegraph.com/storage/uploads/view/aeb65370d31a21ddd8b68b259ba5555b.png?w=640&ssl=1)

이는 직접적인 지불 채널이 없는 상황에서도 위와 같이 사용할 수 있다. 이와 같은 지불 채널 네트워크를 활용하면, 막대한 양의 거래를 체인 외부에서 수행할 수 있게 되며, 거래 수수료 또한 발생하지 않는다.

[참고](http://0rok.com/2802)